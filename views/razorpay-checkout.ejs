<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Razorpay Checkout</title>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>
  <h2>Pay â‚¹100 for 100 blogs</h2>
  <button id="rzp-button">Pay with Razorpay</button>

  <script>
    document.getElementById('rzp-button').onclick = async function (e) {
      e.preventDefault();

      // Step 1: Get order from backend
      const response = await fetch("/create-razorpay-order", { method: "POST" });
      const order = await response.json();

      // Step 2: Razorpay options
      const options = {
        key: "<%= process.env.RAZORPAY_KEY_ID %>",
        amount: order.amount,
        currency: order.currency,
        name: "Blog Upgrade",
        description: "Upgrade to premium plan to post more blogs",
        order_id: order.id,
        handler: async function (paymentResponse) {
          // Step 3: Send payment details to backend for verification
          const verifyRes = await fetch("/razorpay-verify", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(paymentResponse)
          });

          if (verifyRes.ok) {
            // Verified, redirect to success page
            window.location.href = "/razorpay-success";
          } else {
            alert("Payment verification failed. Please try again.");
          }
        },
        prefill: {
          name: "Your Name",
          email: "youremail@example.com",
        },
        theme: {
          color: "#3399cc"
        }
      };

      const rzp1 = new Razorpay(options);
      rzp1.open();
    };
  </script>

  <p><a href="/">Go back to Home</a></p>
</body>
</html> -->
